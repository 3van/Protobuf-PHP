<!DOCTYPE html>
<html>
<head>
  <meta http-equiv='content-type' value='text/html;charset=utf8'>
  <meta name='generator' value='Ronn/v0.7.3 (http://github.com/rtomayko/ronn/tree/0.7.3)'>
  <title>protobuf-php(3) - The framework</title>
  <style type='text/css' media='all'>
  /* style: man */
  body#manpage {margin:0}
  .mp {max-width:100ex;padding:0 9ex 1ex 4ex}
  .mp p,.mp pre,.mp ul,.mp ol,.mp dl {margin:0 0 20px 0}
  .mp h2 {margin:10px 0 0 0}
  .mp > p,.mp > pre,.mp > ul,.mp > ol,.mp > dl {margin-left:8ex}
  .mp h3 {margin:0 0 0 4ex}
  .mp dt {margin:0;clear:left}
  .mp dt.flush {float:left;width:8ex}
  .mp dd {margin:0 0 0 9ex}
  .mp h1,.mp h2,.mp h3,.mp h4 {clear:left}
  .mp pre {margin-bottom:20px}
  .mp pre+h2,.mp pre+h3 {margin-top:22px}
  .mp h2+pre,.mp h3+pre {margin-top:5px}
  .mp img {display:block;margin:auto}
  .mp h1.man-title {display:none}
  .mp,.mp code,.mp pre,.mp tt,.mp kbd,.mp samp,.mp h3,.mp h4 {font-family:monospace;font-size:14px;line-height:1.42857142857143}
  .mp h2 {font-size:16px;line-height:1.25}
  .mp h1 {font-size:20px;line-height:2}
  .mp {text-align:justify;background:#fff}
  .mp,.mp code,.mp pre,.mp pre code,.mp tt,.mp kbd,.mp samp {color:#131211}
  .mp h1,.mp h2,.mp h3,.mp h4 {color:#030201}
  .mp u {text-decoration:underline}
  .mp code,.mp strong,.mp b {font-weight:bold;color:#131211}
  .mp em,.mp var {font-style:italic;color:#232221;text-decoration:none}
  .mp a,.mp a:link,.mp a:hover,.mp a code,.mp a pre,.mp a tt,.mp a kbd,.mp a samp {color:#0000ff}
  .mp b.man-ref {font-weight:normal;color:#434241}
  .mp pre {padding:0 4ex}
  .mp pre code {font-weight:normal;color:#434241}
  .mp h2+pre,h3+pre {padding-left:0}
  ol.man-decor,ol.man-decor li {margin:3px 0 10px 0;padding:0;float:left;width:33%;list-style-type:none;text-transform:uppercase;color:#999;letter-spacing:1px}
  ol.man-decor {width:100%}
  ol.man-decor li.tl {text-align:left}
  ol.man-decor li.tc {text-align:center;letter-spacing:4px}
  ol.man-decor li.tr {text-align:right;float:right}
  </style>
  <style type='text/css' media='all'>
  /* style: toc */
  .man-navigation {display:block !important;position:fixed;top:0;left:113ex;height:100%;width:100%;padding:48px 0 0 0;border-left:1px solid #dbdbdb;background:#eee}
  .man-navigation a,.man-navigation a:hover,.man-navigation a:link,.man-navigation a:visited {display:block;margin:0;padding:5px 2px 5px 30px;color:#999;text-decoration:none}
  .man-navigation a:hover {color:#111;text-decoration:underline}
  </style>
</head>
<!--
  The following styles are deprecated and will be removed at some point:
  div#man, div#man ol.man, div#man ol.head, div#man ol.man.

  The .man-page, .man-decor, .man-head, .man-foot, .man-title, and
  .man-navigation should be used instead.
-->
<body id='manpage'>
  <div class='mp' id='man'>

  <div class='man-navigation' style='display:none'>
    <a href="#NAME">NAME</a>
    <a href="#SYNOPSIS">SYNOPSIS</a>
    <a href="#DESCRIPTION">DESCRIPTION</a>
    <a href="#CODECS">CODECS</a>
    <a href="#ANNOTATED-MESSAGES">ANNOTATED MESSAGES</a>
    <a href="#EXAMPLES">EXAMPLES</a>
    <a href="#BUGS">BUGS</a>
    <a href="#COPYRIGHT">COPYRIGHT</a>
    <a href="#SEE-ALSO">SEE ALSO</a>
  </div>

  <ol class='man-decor man-head man head'>
    <li class='tl'>protobuf-php(3)</li>
    <li class='tc'>Protobuf-PHP </li>
    <li class='tr'>protobuf-php(3)</li>
  </ol>

  <h2 id="NAME">NAME</h2>
<p class="man-name">
  <code>protobuf-php</code> - <span class="man-whatis">The framework</span>
</p>

<h2 id="SYNOPSIS">SYNOPSIS</h2>

<pre><code>&lt;?php
require_once 'DrSlump\Protobuf.php';

use DrSlump\Protobuf;

$data = file_get_contents('data.pb');
$person = new Tutorial\Person($data);
echo $person-&gt;getName();
</code></pre>

<h2 id="DESCRIPTION">DESCRIPTION</h2>

<p>Protobuf-PHP is a library to generate, parse and serialize data structures
compatible with Google's Protocol Buffers using the PHP language.</p>

<h2 id="CODECS">CODECS</h2>

<p>The library is designed to work with a pluggable mechanism for encoding and decoding
messages, allowing it to be used not only to communicate using the standard binary
format but also with Json or XML based formats.</p>

<p>You can create your own codecs by either extending a provided one or implementing the
<code>Protobuf\CodecInterface</code>. Creating custom codecs offers the possibility to use
Protobuf-PHP code generation tool to work with legacy formats or even as a simple
way to interact with database adapters.</p>

<h3 id="Standard-Binary">Standard Binary</h3>

<p>This is the standard binary format supported by the official libraries distributed
by Google. It's pretty much compatible with the official implementations although
there are some known issues, mostly regarding big integer numbers, which are documented
in the readme file that comes with the library.</p>

<h3 id="Standard-TextFormat">Standard TextFormat</h3>

<p>The official libraries also support a text based format for debugging purposes. The
current implementation of this codec only supports encoding or serialization.</p>

<h3 id="PhpArray">PhpArray</h3>

<p>This is more of an internal codec to ease the implementation of some others. It is
able to serializa message objects to PHP's associative arrays and intantiate message
objects from them.</p>

<p>Since most serialization libraries in PHP will natively support associative arrays, this
codec can be used as an easy way to incorporate those formats for their use
with Protobuf messages. The Json and XML codecs are examples of this use case.</p>

<h3 id="JSON">JSON</h3>

<p>It allows to generate or consume JSON formatted strings, which is a very popular
format for REST based web services for example. This codec can be used to communicate
with JavaScript in the browser or with third party REST web services.</p>

<h3 id="ProtoJson">ProtoJson</h3>

<p><a href="https://github.com/drslump/ProtoJson">ProtoJson</a> allows to apply some payload
minification strategies when working with JSON formatted messages. Taking advantatge
of Protobuf's property names mapping to a integer number, it offers two encoding
variants (<em>TagMap</em> and <em>Indexed</em>) that use that number instead of the field name
as key in the messages to reduce the total size of the payload.</p>

<h3 id="XML">XML</h3>

<p>A very simple codec to work with XML based messages. It has no knowledge of namespaces
and other advanced XML features but should be enough to integrate with third parties
that are restricted to simple XML payloads. It can also serve as a base for more
customized integrations, by extendind this codec to consume and generate XML messages
specific to your service.</p>

<h2 id="ANNOTATED-MESSAGES">ANNOTATED MESSAGES</h2>

<p>While the most common use case is to use the <a class="man-ref" href="protoc-gen-php.1.html">protoc-gen-php<span class="s">(1)</span></a> <code>protoc</code> plugin to
generate source code representing the messages defined in .proto files, it's also
possible to define messages at runtime without the code generation step.</p>

<p>An easy way to define messages directly in your code is to use the <code>Protobuf\AnnotatedMessage</code>
abstract class, which allows to annotate your classes so that the <em>codecs</em> know how
to parse and serialize those messages.</p>

<pre><code>class Person extends \DrSlump\Protobuf\AnnotatedMessage {
    /** @protobuf(tag=1, type=string, required) */
    public $name;
    /** @protobuf(tag=2, type=int32, required) */
    public $id;
    /** @protobuf(tag=3, type=string, optional) */
    public $email;
    /** @protobuf(tag=4, repeated, type=message, reference=Person) */
    public $friends = array();
}
</code></pre>

<h2 id="EXAMPLES">EXAMPLES</h2>

<h2 id="BUGS">BUGS</h2>

<p>Please report bugs using GitHub's issue tracker at http://github.com/drslump/protobuf-php/issues</p>

<h2 id="COPYRIGHT">COPYRIGHT</h2>

<p>Protobuf for PHP is Copyright (C) 2011 Ivan -DrSlump- Montes <a href="http://pollinimini.net" data-bare-link="true">http://pollinimini.net</a></p>

<h2 id="SEE-ALSO">SEE ALSO</h2>

<p><a class="man-ref" href="protoc-gen-php.1.html">protoc-gen-php<span class="s">(1)</span></a>, <a class="man-ref" href="protobuf-php.5.html">protobuf-php<span class="s">(5)</span></a>,
<a href="http://github.com/drslump/protobuf-php" data-bare-link="true">http://github.com/drslump/protobuf-php</a></p>


  <ol class='man-decor man-foot man foot'>
    <li class='tl'>Ivan -DrSlump- Montes</li>
    <li class='tc'>July 2011</li>
    <li class='tr'>protobuf-php(3)</li>
  </ol>

  </div>
</body>
</html>
